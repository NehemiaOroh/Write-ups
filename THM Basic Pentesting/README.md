# Basic Pentesting Write-up | TryHackMe

Hello everyone üëã

This is my **first-ever write-up** and my walkthrough of the **TryHackMe ‚Äì Basic Pentesting** room. This CTF is **beginner-friendly** and focuses on practicing fundamental penetration testing concepts such as service enumeration, brute forcing, and Linux privilege escalation.

I‚Äôll be covering a **step-by-step explanation** of how I approached and solved this room. I‚Äôm very open to **feedback, criticism, and suggestions** ‚Äî anything that helps me learn and improve is greatly appreciated üôè

---

## What You‚Äôll Learn

In this room, we practice the following skills:

* Service enumeration
* Brute-force attacks
* Hash cracking
* Linux enumeration
* Basic privilege escalation

---

## Environment Setup

### Connecting to TryHackMe VPN

Before starting the challenge, I connected my attacking machine to the TryHackMe network.

I am using **Kali Linux** as my attack machine.

1. Download the OpenVPN configuration file from TryHackMe.
2. Connect using the following command:

<img width="423" height="35" alt="OpenVPN" src="https://github.com/user-attachments/assets/d2db8eb6-0b05-450c-b7f5-f736e43c5595" />

```bash
sudo openvpn <your-config-file>.ovpn
```

3. Once connected, verify your connection by checking your assigned VPN IP address.

---

## 1. Service Enumeration

To identify the services exposed by the target machine, I used **Nmap** with the following command:

<img width="760" height="208" alt="Nmap Scan" src="https://github.com/user-attachments/assets/29444e24-92b7-4dc3-8136-6efd1c8d2d2b" />

```bash
nmap -sV 10.81.181.100
```

From the scan results, I found **four open ports**:

* 22 (SSH)
* 80 (HTTP)
* 139 (SMB)
* 445 (SMB)

---

## 2. Finding Hidden Web Directories

Next, we were asked to find a **hidden directory** on the web server. To do this, I used **Gobuster**:

<img width="745" height="428" alt="Gobuster Scan" src="https://github.com/user-attachments/assets/696258a9-4cef-4bee-b2db-c64033f8b5bf" />

```bash
gobuster dir -u http://10.81.181.100 -w /usr/share/wordlists/dirb/common.txt
```

From the output, I discovered a directory named **/development**.

Opening this directory revealed two files: **dev.txt** and **j.txt**, which may be useful later.

<img width="1397" height="263" alt="Development Directory" src="https://github.com/user-attachments/assets/338f2733-d35e-4615-8041-8221f61c7acc" />

**j.txt**

<img width="1036" height="130" alt="j.txt" src="https://github.com/user-attachments/assets/1ec39976-1106-4c93-bd7f-20e5f741be91" />

**dev.txt**

<img width="996" height="216" alt="dev.txt" src="https://github.com/user-attachments/assets/cd875f58-dfb5-48e9-a03e-339b42ad04bc" />

---

## 3. SMB Enumeration & Username Discovery

To enumerate SMB shares, I used **smbclient**:

<img width="751" height="181" alt="SMB Shares" src="https://github.com/user-attachments/assets/202bb47b-ac04-4359-9fad-4793efa7ee87" />

```bash
smbclient -L //10.81.181.100 -N
```

This revealed an accessible share named **Anonymous**.

I connected to it and found a file named **staff.txt**:

<img width="740" height="145" alt="Anonymous Share" src="https://github.com/user-attachments/assets/7c7f1118-1567-42b7-ba5c-793e78b5e928" />

```bash
smbclient //10.81.181.100/Anonymous -N
```

I downloaded the file:

```bash
get staff.txt
```

Inside **staff.txt**, there was an announcement mentioning a user named **Jan**, which gave us a valid username.

---

## 4. Password Brute-Forcing

To find Jan‚Äôs password, I used **Hydra** to brute-force SSH:

<img width="763" height="335" alt="Hydra SSH" src="https://github.com/user-attachments/assets/d7e40346-762d-4388-bd94-6c70294390b6" />

```bash
hydra -l jan -P /usr/share/wordlists/rockyou.txt ssh://10.81.181.100
```

‚úÖ Password found: **armando**

---

## 5. Logging in via SSH

Using the discovered credentials, I logged in as **jan**:

<img width="747" height="398" alt="SSH Login" src="https://github.com/user-attachments/assets/9d7d1fe5-2488-41d7-adf4-f112c76cd30a" />

```bash
ssh jan@10.81.181.100
```

---

## 6. Privilege Escalation Enumeration

After logging in, I explored the system and discovered another user named **kay**:

```bash
ls /home
```

Inside Kay‚Äôs directory, there was a file named **pass.bak**, but it was not readable.

Looking for alternative access methods, I checked for SSH keys and found a **private key (id_rsa)** in Kay‚Äôs `.ssh` directory.

```bash
cd /home/kay/.ssh
ls
```

I copied the private key to my machine, saved it as `kay_id_rsa`, and set the correct permissions:

```bash
chmod 600 kay_id_rsa
```

---

## 7. Cracking the SSH Key Passphrase

The private key was protected by a passphrase, so I used **ssh2john** and **John the Ripper**:

```bash
ssh2john kay_id_rsa > forjohn.txt
john forjohn.txt --wordlist=/usr/share/wordlists/rockyou.txt
```

Passphrase found: **beeswax**

Using this, I successfully logged in as **kay**:

```bash
ssh -i kay_id_rsa kay@10.81.181.100
```

---

## 8.Final Flag

After logging in as Kay, I was able to read the **pass.bak** file:

```bash
cat pass.bak
```

**Final password obtained:**

```
heresareallystrongpasswordthatfollowsthepasswordpolicy$$
```

---

> **Disclaimer:** All actions performed in this write-up are strictly for educational purposes and were conducted in a controlled lab environment (TryHackMe).
